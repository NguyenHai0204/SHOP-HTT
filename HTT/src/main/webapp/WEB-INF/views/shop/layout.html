<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--header-->
<header th:fragment="header">
    <div class="container-fluid bg-primary">
        <div class="row">
            <div class="col-sm-12 well-sm danger text-center">
                <a href="#" class="white ">
                    We Ship Worldwide, Shop Now!!
                </a>
            </div>
        </div>

    </div>

    <!--
Navigation Start
-->

    <nav class="navbar navbar-inverse padding-0 margin-0 border-radius-0 overflow-hidden-mobile">
        <div class="container">
            <div class="row">

                <div class="col-md-12">
                    <!-- Cart Icon Start -->
                    <ul class="nav navbar-nav pull-right">
                        <li><a class="outline-0 z-index-1" href="#cartModal" data-toggle="modal" data-target="#cartModal">
                            <span class="glyphicon glyphicon-shopping-cart">Cart</span>
                                <th:block th:if="${session.size != 0}">
                                    <sup class="btn btn-xs cart-sub" th:utext="${session.size}" sec:authorize="isAuthenticated()"></sup>
                                </th:block>
                            </a>
                        </li>

                    </ul>
                    <!-- Cart Icon End -->



                    <!-- Login Up Modal Start -->
                    <div class="modal fade" id="cartModal" role="dialog" sec:authorize="isAuthenticated()">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    Shopping Cart
                                </div>
                                <div class="modal-body padding-0">
                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead>
                                            <tr class="success">
                                                <th>Product Image</th>
                                                <th>Product Name</th>
                                                <th>Price($)</th>
                                                <th>Quantity</th>
                                                <th style="text-align: right">Total Price($)</th>
                                                <th></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <th:block th:if="${session.order != null}"
                                            >
                                                <tr th:each="orderDetails : ${session.order.getOrderDetails()}">

                                                    <td><img class="img-responsive max-width-80 padding-0 margin-0"
                                                             th:src="@{'/upload/'+${orderDetails.product.image}}"/></td>
                                                    <td th:utext="${orderDetails.product.name}"></td>
                                                    <td th:utext="${orderDetails.product.price}"></td>
                                                    <td th:utext="${orderDetails.quantity}"></td>
                                                    <td align="right" th:utext="${orderDetails.product.price}"></td>
                                                    <td>
                                                        <a th:href="@{/cart/delete/{id}(id=${orderDetails.product.id})}" style="text-align: right;">Delete</a>
                                                    </td>
                                                </tr>
                                            </th:block>
                                            </tbody>
                                            <tfoot>
                                            <tr class="active h4">
                                                <td colspan="5" align="left">Total</td>
                                                <td align="right" th:if="${session.order != null}"
                                                    th:text="${session.total}"></td>
                                            </tr>
                                            </tfoot>
                                        </table>

                                    </div>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default pull-left" data-dismiss="modal">
                                        Continue Shopping
                                    </button>
                                    <a type="button" class="btn btn-default pull-right" href="#cartCheckOut"
                                       data-toggle="modal"
                                       data-target="#cartCheckOut">Check
                                        Out</a>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="cartCheckOut" role="dialog" sec:authorize="isAuthenticated()">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    Order Cart
                                </div>
                                <form th:action="@{/order/add}" method="POST" th:object="${order}">
                                <div class="modal-body padding-0">
                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead>
                                            <div class="form-row">
                                                <label for="name">Name</label>
                                                <input type="text" class="form-control" id="name" th:field="*{name}"
                                                       placeholder="Name" required>
                                            </div>
                                            <div class="form-group">
                                                <label for="address">Address</label>
                                                <input type="text" class="form-control" id="address" th:field="*{address}"
                                                       placeholder="1234 Main St" required>
                                            </div>
                                            <div class="form-group">
                                                <label for="phone">Phone</label>
                                                <input type="number" class="form-control" id="phone" th:field="*{phone}"
                                                       placeholder="0936854***" required>
                                            </div>
                                            <div class="form-group">
                                                <label for="comment">Comment</label>
                                                <textarea class="form-control" rows="5" id="comment" th:field="*{comment}"></textarea>
                                            </div>
                                            </thead>
                                            <tfoot>
                                            <tr class="active h4">
                                                <td colspan="5" align="left">Total</td>
                                                <td align="right" th:if="${session.order != null}"
                                                    th:text="${session.total}"></td>
                                            </tr>
                                            </tfoot>
                                        </table>

                                    </div>

                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-default pull-right">Order Now</button>
                                </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <!-- Login up Modal End -->

                    <!-- Nav Header start -->

                    <div class="navbar-header brandmobilecenter ">

                        <!-- Logo Start -->
                        <a th:href="@{/home}" class="navbar-brand padding-0 margin-0 border-0 border-radius-0 logo-fix">
                            <!--<img class="img-responsive logo" src="img/logo.png"/>              -->
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 99 58"
                                 className="MainMenuTall__logo__svg__3tpY7" class="MainMenuTall__logo__svg__3tpY7">
                                <path d="M11.9 49.6c-2.1 0-4.2-.7-5.8-2.2A8.2 8.2 0 0 1 3 41.6c0-.2 0-.4-.1-.6V24.7s4.1 0 4.1 3.7v4.7l.6-.3c.1 0 .1-.1.1-.1.1 0 .2-.1.2-.1a8.2 8.2 0 0 1 4.2-1.1h.4c1.9.1 3.5.6 5 1.7 2.1 1.6 3.3 3.6 3.7 6 .3 2.1 0 4.1-1 5.8-1.5 2.5-3.5 4-6.2 4.5-.8 0-1.5.1-2.1.1zm.2-14.3c-.3 0-.6 0-.9.1-2.6.3-4.2 2.4-4.2 5v.4c0 1.5.6 2.7 1.7 3.6.9.8 2.2 1.3 3.4 1.3.9 0 1.9-.3 2.7-.7 1.9-1.1 2.7-2.9 2.4-5.2-.3-2.2-2.1-4.5-5.1-4.5zM69.1 49.6c-2.4 0-4.7-.9-6.5-2.7a8.78 8.78 0 0 1-2.7-6c-.1-2.5.7-4.9 2.5-6.7 1.8-1.8 4.1-2.9 6.7-2.9 5 0 9.2 4.1 9.2 9.1 0 2.4-.9 4.6-2.6 6.4a9.13 9.13 0 0 1-6.1 2.8h-.5zm.1-14.3c-.3 0-.6 0-1 .1a5.1 5.1 0 0 0-4.3 5.2v.4c.1 2.8 2.3 4.9 5.1 4.9.9 0 1.9-.3 2.7-.7 1.9-1.1 2.6-2.9 2.3-5.2-.1-2.5-2-4.7-4.8-4.7zM40.2 24.7v24.6h4.3V28.4c-.1-3.6-4.3-3.7-4.3-3.7zM46.4 24.7v24.6h4.3V28.4c0-3.9-4.3-3.7-4.3-3.7z"></path>
                                <path d="M52.6 49.3v-2.7-6.4c0-1.4.1-2.9.7-4.4.9-2.1 2.5-3.3 4.7-4 1.8-.5 3.4-.4 3.4-.4v3.9s-1 0-2 .3c-1.4.4-2.3 1.3-2.5 2.8-.1.6-.2 1.4-.2 2.2v8.7h-4.1zM79.9 51.7c1.8 0 2.3.9 2.7 1.3.6.5 1.4.8 2.1.8 2.3 0 4.1-2.1 4.1-4.1v-.9c-1 .6-2.1.8-3.2.8-4.1 0-7.3-3.4-7.3-7.6V31.6h4.1v10.2c0 1.9 1.5 3.6 3.2 3.6 1.9 0 3.2-1.6 3.2-3.6v-6.5c0-3.7 4.1-3.7 4.1-3.7v18c0 4.2-3.1 8.1-8.2 8.1-3.1 0-5.9-1.8-7.1-4.7-.4-.8-.5-1.4-.5-1.4s1.3.1 2.8.1zM30.3 45.9c-1.7 0-3.1-.8-4-2l13-4.6c-.6-3-1.8-4.9-3.6-6.2a9.3 9.3 0 0 0-7-1.5c-.6.1-1 .2-1.6.4a8.96 8.96 0 0 0-5.8 9.3 9 9 0 0 0 3.2 6.2c1.8 1.5 4 2.2 6.3 2.2 1 0 1.9-.2 2.9-.6 3.7-1.3 5.4-4.1 5.8-6.7h-2.4c-1.5 0-2.1 1-2.5 1.4a5.94 5.94 0 0 1-4.3 2.1zm-1.7-10.3c.1 0 .1 0 .2-.1H29.1c.4-.1.8-.2 1.3-.2.9 0 1.8.3 2.6.7.4.2.7.5 1 .8V37.1l.4.4-9.2 3.2v-.5c.1-2.2 1.4-3.9 3.4-4.6zM75.6 5.5c-.7 0-1.3.6-1.3 1.3 0 .7.7 1.4 1.5 1.2.3 1.1.9 2.1 1.8 2.8l.4.2.4-.3c.7-.6 1.4-1.7 1.7-2.8h.3c.7 0 1.3-.6 1.3-1.3s-.7-1.2-1.4-1.2c-.8 0-1.3.6-1.3 1.3 0 .9-.5 2.1-1.1 2.9-.6-.7-1-1.8-1.1-2.9.1-.6-.5-1.2-1.2-1.2zm16.5 11.6c-2.5-6.2-6.1-8-7.6-8.6.1-.4.1-.7.1-1.2 0-3.6-3-6.5-6.6-6.5-3.5 0-6.3 2.8-6.8 6.4-.7 8.7 5 13.5 7.8 15.7 1.6 1.2 2.4 2.1 1.5 3.6-.6.8-1.2 2-1.8 2.2-1.6.3-2.1 1.3-2.1 1.3H78c1.8 0 2.3-.1 4.1-3 1.7-2.9-1-4.5-2.1-5.4-2.8-2.1-8-6.4-7.3-14.2v-.1c.3-3 2.5-5.2 5.4-5.2a5.16 5.16 0 0 1 3.7 8.8c-.9 1-2.2 1.5-3.6 1.5-.5 0-.9-.1-1.3-.2-1.4-.4-2 .6-2 .6l-.1.1.1.1c.9.6 2.2.9 3.3.9 1.8 0 3.4-.6 4.6-1.9.6-.6 1.1-1.3 1.4-2 1.2.5 4.4 2.1 6.7 7.7.6 1.4 1.1 2.8 1.6 4-1.8 0-8.1-.2-11.2-5.1-.8-1.3-2.1-1-2.1-1 3.2 7.7 12.3 7.5 14 7.6.8 2 1.5 3.6 1.8 4.5-.7 0-2.1-.3-3.7-1.7a7.11 7.11 0 0 0-5.1-1.9l-4 6.3s1.9 0 2.7-1.2l2.2-3.5c1.1.1 2.2.6 3.3 1.5 2.1 1.7 3.4 1.9 4.7 1.9 1.2.1 1.9-.3 1.9-.3s-2.4-5.6-4.9-11.7z"></path>
                            </svg>
                        </a>
                        <!-- Logo End -->

                        <!-- Menu Responive Toggle Start -->
                        <button type="button" class="navbar-toggle collapsed pull-left" data-toggle="collapse"
                                data-target="#dropnav" aria-expanded="false" aria-controls="dropnav">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <!-- Menu Responive Toggle End -->

                    </div>
                    <!-- Nav Header end -->


                    <!-- Meun Start (that will Mobile toggle) -->
                    <div id="dropnav" class="navbar-collapse collapse">

                        <!-- Links in Menu Start -->
                        <ul class="nav navbar-nav mobile-margin-top-60">
                            <li class="active">
                                <a th:href="@{/home}"><span class="glyphicon glyphicon-home" aria-hidden="true"></span></a>
                            </li>
                            <li><a href="#">Shop</a></li>
                            <!-- Category Dropdown Start -->
                            <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown"
                                                    href="#">Categories<span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <th:block th:each="category : ${categories}">
                                        <li><a th:href="@{/categoryPage/{id}(id=${category.id})}"
                                               th:utext="${category.name}"></a></li>
                                    </th:block>
                                </ul>
                            </li>
                            <!-- Category Dropdown End -->
                            <li><a href="shop1.html">Collections</a></li>
                            <li><a href="blog.html">Blog</a></li>
                        </ul>
                        <!-- Links in Menu End -->


                        <!-- Sign up and Login start -->

                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <!-- Setting modal trigger -->
                                <a  sec:authorize="isAuthenticated()" class="outline-0" href="#signupModal" data-toggle="modal" data-target="#signupModal"><span class="glyphicon glyphicon-cog"></span>Setting</a>
                            </li>
                            <li>
                                <!-- Setting modal trigger -->
                                <a th:href="@{/login}" sec:authorize="!isAuthenticated()"><span
                                        class="glyphicon glyphicon-user"></span> Sign in</a>

                            </li>

<!--                            <li>-->
<!--                                <a sec:authorize="isAuthenticated()" th:href="@{/logout}"><span-->
<!--                                        class="glyphicon glyphicon-log-in"></span> Logout</a>-->
<!--                            </li>-->

                        </ul>


                        <!-- Sign Up Modal Start -->
                        <div class="modal fade" id="signupModal" role="dialog">
                            <div class="modal-dialog modal-sm">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button><h4>Setting</h4></div>
                                    <div class="modal-body" style="margin-left: 37%">
                                        <form class="form-horizontal">
                                            <a th:href="@{/profile}">
                                            <div class="form-group">
                                                <label><span class="glyphicon glyphicon-user"></span>Profile</label>
                                            </div>
                                            </a>
                                            <a href="#">
                                                <div class="form-group">
                                                    <label><span class="glyphicon glyphicon-paste"></span>Change Password</label>
                                                </div>
                                            </a>
                                            <a th:href="@{/logout}">
                                                <div class="form-group">
                                                    <label><span class="glyphicon glyphicon-log-out"></span>Log Out</label>
                                                </div>
                                            </a>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Setting Up Modal End -->
                        <!-- Login Up Modal Start -->
                        <div class="modal fade" id="loginModal" role="dialog">
                            <div class="modal-dialog modal-sm">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        Login
                                    </div>
                                    <div class="modal-body">
                                        <form class="form-horizontal" action="/action_page.html">
                                            <div class="form-group">

                                                <label class="control-label col-sm-5 text-align-left" for="email"><span
                                                        class="glyphicon glyphicon-envelope"></span> Email:</label>
                                                <div class="col-sm-7">
                                                    <input type="email" class="form-control" id="email"
                                                           placeholder="Enter email" name="email">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-5 text-align-left" for="pwd"><span
                                                        class="glyphicon glyphicon-lock"></span> Password:</label>
                                                <div class="col-sm-7">
                                                    <input type="password" class="form-control" id="pwd"
                                                           placeholder="Enter password" name="pwd">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-sm-offset-2 col-sm-10">
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" name="remember"> Remember
                                                            me</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-sm-offset-2 col-sm-10">
                                                    <button type="submit" class="btn btn-default">Submit</button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Meun Start (that will Mobile toggle) -->
                </div>
            </div>
        </div>
    </nav>
    <!--
    Navigation End
    -->
</header>


<!--footer-->
<footer th:fragment="footer" class="bg-dark text-white padding-top-20 padding-bottom-20">
    <div class="container">
        <div class="row">
            <div class="col-md-3 col-xs-6">
                <div class="h2">Help /</div>
                <ul class="margin-0 padding-0 list-style-none margin-bottom-20">
                    <li><a href="#">First item</a></li>
                    <li>Second item</li>
                    <li>Third item</li>
                </ul>
            </div>
            <div class="col-md-3 col-xs-6 margin-bottom-20">
                <div class="h2">Shop /</div>
                <ul class="margin-0 padding-0 list-style-none">
                    <li>First item</li>
                    <li>Second item</li>
                    <li>Third item</li>
                </ul>
            </div>
        </div>

    </div>
    <div class="container">
        <div class="row">
            <div class="col-xs-6 text-left small color-light">
                <i class="fa fa-server"></i> Powered by <a href="http://www.idb-bisew.org" target="_blank">IDB-BISEW</a>
            </div>
            <div class="col-xs-6 text-right small color-light">&copy; 2017. Develop by Muntasir. <br></div>
        </div>
    </div>


</footer>
</body>
</html>